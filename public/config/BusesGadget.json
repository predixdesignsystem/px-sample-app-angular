{
  "title" : "Buses Tree",
  "version": 0.4,
  "filter-by-container": {
    "id":  "ID",
    "title": "name",
    "query":  "SELECT name,mRID,CimCppTypeName FROM ConnectivityNodeContainer",
    "icons": {"Substation": "substation.png", "Line": "Line.png", "VoltageLevel":"vl.png"}
  },
  "buses": [
    {
      "id" : "ID",
      "parent": "PARENT",
      "query": "SELECT ConnectivityNodes[CimCppAny=\"\"].ConnectivityNodeContainer(VoltageLevel).Substation.Region.name as SubGeoRegion,ConnectivityNodes[CimCppAny=\"\"].ConnectivityNodeContainer(VoltageLevel).Substation.name as Substation,ConnectivityNodes[CimCppAny=\"\"].ConnectivityNodeContainer.name as Container,name,v,angle,TopologicalIsland.name AS Island,BaseVoltage.name AS BaseV,mRID AS ID FROM TopologicalNode",
      "dgQuery": "SELECT ConnectivityNodes[CimCppAny=\"\"].ConnectivityNodeContainer(VoltageLevel).Substation.Region.name as SubGeoRegion,ConnectivityNodes[CimCppAny=\"\"].ConnectivityNodeContainer(VoltageLevel).Substation.name as Substation,ConnectivityNodes[CimCppAny=\"\"].ConnectivityNodeContainer(VoltageLevel).Substation.mRID as PARENT,ConnectivityNodes[CimCppAny=\"\"].ConnectivityNodeContainer.name as Container,name,v,angle,TopologicalIsland.name AS Island,BaseVoltage.name AS BaseV,mRID AS ID FROM TopologicalNode",
      "color": "yellow",
      "type": "TopologicalNode",
      "dgCaption": {
	      "title": "%Substation% | %name%",
	      "subtitle": {"label": "Sub-Region", "field":"SubGeoRegion"},
        "bigLabel": {"field": "BaseV", "unit": "kv"},
        "fieldsList": [{"field": "v", "unit": "kv", "decimalDigits":"1"}, {"field": "angle", "unit": "degrees", "decimalDigits":"1"}, {"field": "Island", "label": "Island: "}]
      },
      "dgLink": {
        "caption": "%Substation%",
        "tooltip": "%Container% / %name%"
      },
      "layout" : {
        "SubGeoRegion" : {"title" : "SubGeoRegion"},
        "Substation" : {"title" : "Substation"},
        "Container" : {"title" : "Container"},
        "name" : {"title" : "Name"},
        "v" :    {"title" : "Voltage"},
        "angle": {"title" : "Angle"},
        "BaseV": {"title" : "BaseV"},
		    "Island": {"title" : "Island"},
        "ID" : {"title" : "ID", "hidden": "hidden"}
      },
      "text": "|bus:%layout%",
      "comment": "%layout% is a string made of above layout elements, formatted as example: ID=%mRID%, Name=%name%, ... ",
      "leaf": "false",
      "children" : [
        {
          "id": "ID",
          "parent": "PARENT",
          "next": "NEXT_TERMINAL",
		      "next-parent": "NEXT_BUS",
		      "icon": {"src": "acLineEnd1.png", "atEnd": true},
          "query": "SELECT EquipmentContainer(Line).name as Line,Terminals[sequenceNumber=1].mRID AS ID,name,Terminals[sequenceNumber=1].p AS p,Terminals[sequenceNumber=1].q AS q,BaseVoltage.nominalVoltage AS nomV,Terminals[sequenceNumber=1].TopologicalNode.mRID AS PARENT,Terminals[sequenceNumber=2].mRID AS NEXT_TERMINAL,Terminals[sequenceNumber=2].TopologicalNode.mRID AS NEXT_BUS FROM ACLineSegment",
          "dgQuery": "SELECT EquipmentContainer(Line).name as Line,Terminals[sequenceNumber=1].mRID AS ID,name,Terminals[sequenceNumber=1].p AS p,Terminals[sequenceNumber=1].q AS q,BaseVoltage.nominalVoltage AS nomV,Terminals[sequenceNumber=1].TopologicalNode.mRID AS PARENT,Terminals[sequenceNumber=2].mRID AS NEXT_TERMINAL,Terminals[sequenceNumber=2].TopologicalNode.mRID AS NEXT_BUS,Terminals[sequenceNumber=1].ConductingEquipment.CimCppTypeName AS eqType,Terminals[sequenceNumber=1].ConductingEquipment.mRID AS eqMRID FROM ACLineSegment WHERE Terminals[sequenceNumber=1].TopologicalNode.mRID={0}",
          "color": "red",
          "layout": {
            "Line"                        : {"title": "Line" },
            "name"                        : {"title": "Name" },
            "p"                           : {"title": "p" },
            "nomV"                        : {"title": "Nominal Voltage" }
          },
          "text": "|ACLSend1:%layout%",
		      "dgNodeLayout": 
			      [{"field": "p", "decimalDigits": "2", "signToArrow": "true", "unit": "MW"},
			       {"field": "q", "decimalDigits": "2", "signToArrow": "true", "unit": "MVAR"}],
          "navigateTo": {
             "display": "Tabular",
             "className": "%eqType%",
             "destinationID": "%eqMRID%"
          },
          "title": "Line",
          "type": "ACLineSegment"
		    },
        {
          "id": "ID",
          "parent": "PARENT",
          "next": "NEXT_TERMINAL",
		      "next-parent": "NEXT_BUS",
		      "icon":  {"src": "acLineEnd1.png", "atEnd": true},
          "query": "SELECT EquipmentContainer(Line).name as Line,Terminals[sequenceNumber=2].mRID AS ID,name,Terminals[sequenceNumber=2].p AS p,Terminals[sequenceNumber=2].q AS q,BaseVoltage.nominalVoltage AS nomV,Terminals[sequenceNumber=2].TopologicalNode.mRID AS PARENT,Terminals[sequenceNumber=1].mRID AS NEXT_TERMINAL,Terminals[sequenceNumber=1].TopologicalNode.mRID AS NEXT_BUS FROM ACLineSegment",
          "dgQuery": "SELECT EquipmentContainer(Line).name as Line,Terminals[sequenceNumber=2].mRID AS ID,name,Terminals[sequenceNumber=2].p AS p,Terminals[sequenceNumber=2].q AS q,BaseVoltage.nominalVoltage AS nomV,Terminals[sequenceNumber=2].TopologicalNode.mRID AS PARENT,Terminals[sequenceNumber=1].mRID AS NEXT_TERMINAL,Terminals[sequenceNumber=1].TopologicalNode.mRID AS NEXT_BUS,Terminals[sequenceNumber=2].ConductingEquipment.CimCppTypeName AS eqType,Terminals[sequenceNumber=2].ConductingEquipment.mRID AS eqMRID FROM ACLineSegment WHERE Terminals[sequenceNumber=2].TopologicalNode.mRID={0}",
          "color": "red",
          "layout": {
            "Line"                        : {"title": "Line" },
            "name"                        : {"title": "Name" },
            "p"                           : {"title": "p" },
            "nomV"                        : {"title": "Nominal Voltage" }
          },
          "text": "|ACLSend2:%layout%",
		      "dgNodeLayout":
			      [{"field": "p", "decimalDigits": "2", "signToArrow": "true", "unit": "MW"},
			       {"field": "q", "decimalDigits": "2", "signToArrow": "true", "unit": "MVAR"}],
          "navigateTo": {
             "display": "Tabular",
             "className": "%eqType%",
             "destinationID": "%eqMRID%"
          },
          "title": "Line",
          "type": "ACLineSegment"
        },
        {
          "id": "ID",
          "parent": "PARENT",
          "next": "NEXT_TERMINAL",
		      "next-parent": "NEXT_BUS",
          "query": "SELECT EquipmentContainer.name as Container,Terminals[sequenceNumber=1].mRID AS ID,name,Terminals[sequenceNumber=1].p AS p,Terminals[sequenceNumber=1].q AS q,BaseVoltage.nominalVoltage AS nomV,Terminals[sequenceNumber=1].TopologicalNode.mRID AS PARENT,Terminals[sequenceNumber=2].mRID AS NEXT_TERMINAL,Terminals[sequenceNumber=2].TopologicalNode.mRID AS NEXT_BUS FROM EquivalentBranch",
          "dgQuery": "SELECT EquipmentContainer.name as Container,Terminals[sequenceNumber=1].mRID AS ID,name,Terminals[sequenceNumber=1].p AS p,Terminals[sequenceNumber=1].q AS q,BaseVoltage.nominalVoltage AS nomV,Terminals[sequenceNumber=1].TopologicalNode.mRID AS PARENT,Terminals[sequenceNumber=2].mRID AS NEXT_TERMINAL,Terminals[sequenceNumber=2].TopologicalNode.mRID AS NEXT_BUS FROM EquivalentBranch WHERE Terminals[sequenceNumber=1].TopologicalNode.mRID={0}",
          "color": "red",
          "layout": {
            "Container"                   : {"title": "Container" },
            "name"                        : {"title": "Name" },
            "p"                           : {"title": "p" },
            "nomV"                        : {"title": "Nominal Voltage" }
          },
          "text": "|EquivBrEnd1:%layout%",
		      "dgNodeLayout":
			      [{"field": "p", "decimalDigits": "2", "signToArrow": "true", "unit": "MW"},
			       {"field": "q", "decimalDigits": "2", "signToArrow": "true", "unit": "MVAR"}],
          "navigateTo": {
             "display": "Tabular",
             "className": "Terminal",
             "destinationID": "%ID%"
          },
          "title": "name",
		      "icon":  {"src": "equivalent_branch.svg", "atEnd": true},
          "type": "EquivalentBranch"
        },
        {
          "id": "ID",
          "parent": "PARENT",
          "next": "NEXT_TERMINAL",
		  "next-parent": "NEXT_BUS",
          "query": "SELECT EquipmentContainer.name as Container,Terminals[sequenceNumber=2].mRID AS ID,name,Terminals[sequenceNumber=2].p AS p,Terminals[sequenceNumber=2].q AS q,BaseVoltage.nominalVoltage AS nomV,Terminals[sequenceNumber=2].TopologicalNode.mRID AS PARENT,Terminals[sequenceNumber=1].mRID AS NEXT_TERMINAL,Terminals[sequenceNumber=1].TopologicalNode.mRID AS NEXT_BUS FROM EquivalentBranch",
          "dgQuery": "SELECT EquipmentContainer.name as Container,Terminals[sequenceNumber=2].mRID AS ID,name,Terminals[sequenceNumber=2].p AS p,Terminals[sequenceNumber=2].q AS q,BaseVoltage.nominalVoltage AS nomV,Terminals[sequenceNumber=2].TopologicalNode.mRID AS PARENT,Terminals[sequenceNumber=1].mRID AS NEXT_TERMINAL,Terminals[sequenceNumber=1].TopologicalNode.mRID AS NEXT_BUS FROM EquivalentBranch WHERE Terminals[sequenceNumber=2].TopologicalNode.mRID={0}",
          "color": "red",
          "layout": {
            "Container"                   : {"title": "Container" },
            "name"                        : {"title": "Name" },
            "p"                           : {"title": "p" },
            "nomV"                        : {"title": "Nominal Voltage" }
          },
          "text": "|EquivBrEnd2:%layout%",
		      "dgNodeLayout":
			      [{"field": "p", "decimalDigits": "2", "signToArrow": "true", "unit": "MW"},
			       {"field": "q", "decimalDigits": "2", "signToArrow": "true", "unit": "MVAR"}],
          "navigateTo": {
             "display": "Tabular",
             "className": "Terminal",
             "destinationID": "%ID%"
          },
          "icon":  {"src": "equivalent_branch.svg", "atEnd": true},
          "title": "name",
          "type": "EquivalentBranch"
        },
        {
          "id": "ID",
          "parent": "PARENT",
          "next": "NEXT_TERMINAL",
		      "next-parent": "NEXT_BUS",
          "query": "SELECT EquipmentContainer.name as Container,Terminals[sequenceNumber=1].mRID AS ID,name,Terminals[sequenceNumber=1].p AS p,Terminals[sequenceNumber=1].q AS q,BaseVoltage.nominalVoltage AS nomV,Terminals[sequenceNumber=1].TopologicalNode.mRID AS PARENT,Terminals[sequenceNumber=2].mRID AS NEXT_TERMINAL,Terminals[sequenceNumber=2].TopologicalNode.mRID AS NEXT_BUS FROM SeriesCompensator",
          "dgQuery": "SELECT EquipmentContainer.name as Container,Terminals[sequenceNumber=1].mRID AS ID,name,Terminals[sequenceNumber=1].p AS p,Terminals[sequenceNumber=1].q AS q,BaseVoltage.nominalVoltage AS nomV,Terminals[sequenceNumber=1].TopologicalNode.mRID AS PARENT,Terminals[sequenceNumber=2].mRID AS NEXT_TERMINAL,Terminals[sequenceNumber=2].TopologicalNode.mRID AS NEXT_BUS FROM SeriesCompensator WHERE Terminals[sequenceNumber=1].TopologicalNode.mRID={0}",
          "color": "red",
          "layout": {
            "Container"                   : {"title": "Container" },
            "name"                        : {"title": "Name" },
            "p"                           : {"title": "p" },
            "nomV"                        : {"title": "Nominal Voltage" }
          },
          "text": "|SeriesCompEnd1:%layout%",
		      "dgNodeLayout":
			      [{"field": "p", "decimalDigits": "2", "signToArrow": "true", "unit": "MW"},
			       {"field": "q", "decimalDigits": "2", "signToArrow": "true", "unit": "MVAR"}],
          "navigateTo": {
             "display": "Tabular",
             "className": "Terminal",
             "destinationID": "%ID%"
          },
          "title": "Container",
		      "icon":  {"src": "series_compensator.svg", "atEnd": true},
          "type": "SeriesCompensator"
        },
        {
          "id": "ID",
          "parent": "PARENT",
		  "next-parent": "NEXT_BUS",
          "next": "NEXT_TERMINAL",
          "query": "SELECT EquipmentContainer.name as Container,Terminals[sequenceNumber=2].mRID AS ID,name,Terminals[sequenceNumber=2].p AS p,Terminals[sequenceNumber=2].q AS q,BaseVoltage.nominalVoltage AS nomV,Terminals[sequenceNumber=2].TopologicalNode.mRID AS PARENT,Terminals[sequenceNumber=1].mRID AS NEXT_TERMINAL,Terminals[sequenceNumber=1].TopologicalNode.mRID AS NEXT_BUS FROM SeriesCompensator",
          "dgQuery": "SELECT EquipmentContainer.name as Container,Terminals[sequenceNumber=2].mRID AS ID,name,Terminals[sequenceNumber=2].p AS p,Terminals[sequenceNumber=2].q AS q,BaseVoltage.nominalVoltage AS nomV,Terminals[sequenceNumber=2].TopologicalNode.mRID AS PARENT,Terminals[sequenceNumber=1].mRID AS NEXT_TERMINAL,Terminals[sequenceNumber=1].TopologicalNode.mRID AS NEXT_BUS FROM SeriesCompensator WHERE Terminals[sequenceNumber=2].TopologicalNode.mRID={0}",
          "color": "red",
          "layout": {
            "Container"                   : {"title": "Container" },
            "name"                        : {"title": "Name" },
            "p"                           : {"title": "p" },
            "nomV"                        : {"title": "Nominal Voltage" }
          },
          "text": "|SeriesCompEnd2:%layout%",
		  "dgNodeLayout":
			[{"field": "p", "decimalDigits": "2", "signToArrow": "true", "unit": "MW"},
			 {"field": "q", "decimalDigits": "2", "signToArrow": "true", "unit": "MVAR"}],
          "title": "Container",
 		  "icon":  {"src": "series_compensator.svg", "atEnd": true},
          "type": "SeriesCompensator"
        },
        {
          "id": "ID",
          "parent": "PARENT",
          "next": "NEXT_TERMINAL",
		  "next-parent": "NEXT_BUS",
		  "icon":  {"src": "two_winding.svg", "atEnd": false},
          "query": "SELECT EquipmentContainer(Substation).name as Substation,Terminals[sequenceNumber=1].mRID AS ID,name,Terminals[sequenceNumber=1].TopologicalNode.mRID AS PARENT,Terminals[sequenceNumber=1].p AS p,Terminals[sequenceNumber=1].q AS q,Terminals[sequenceNumber=2].mRID AS NEXT_TERMINAL,Terminals[sequenceNumber=2].TopologicalNode.mRID AS NEXT_BUS FROM PowerTransformer",
          "dgQuery": "SELECT EquipmentContainer(Substation).name as Substation,Terminals[sequenceNumber=1].mRID AS ID,name,Terminals[sequenceNumber=1].TopologicalNode.mRID AS PARENT,Terminals[sequenceNumber=1].p AS p,Terminals[sequenceNumber=1].q AS q,Terminals[sequenceNumber=2].mRID AS NEXT_TERMINAL,Terminals[sequenceNumber=2].TopologicalNode.mRID AS NEXT_BUS,Terminals[sequenceNumber=1].ConductingEquipment.mRID AS eqMRID FROM PowerTransformer WHERE Terminals[sequenceNumber=1].TopologicalNode.mRID={0}",
          "color": "red",
          "layout": {
            "Substation"                  : {"title": "Substation" },
            "name"                        : {"title": "Name" },
            "p"                           : {"title": "p" }
          },
          "text": "|PTend1:%layout%",
		  "dgNodeLayout":
			[{"field": "p", "decimalDigits": "2", "signToArrow": "true", "unit": "MW"},
			 {"field": "q", "decimalDigits": "2", "signToArrow": "true", "unit": "MVAR"}],
          "navigateTo": {
             "display": "Tabular",
             "className": "Transformer2Term",
             "destinationID": "%eqMRID%"
          },
          "title": "name",
          "type": "PowerTransformer"
        },
        {
          "id": "ID",
          "parent": "PARENT",
          "next": "NEXT_TERMINAL",
		  "next-parent": "NEXT_BUS",
		  "icon": {"src": "two_winding.svg", "atEnd": false},
          "query": "SELECT EquipmentContainer(Substation).name as Substation,Terminals[sequenceNumber=2].mRID AS ID,name,Terminals[sequenceNumber=2].TopologicalNode.mRID AS PARENT,Terminals[sequenceNumber=2].p AS p,Terminals[sequenceNumber=2].q AS q,Terminals[sequenceNumber=1].mRID AS NEXT_TERMINAL,Terminals[sequenceNumber=1].TopologicalNode.mRID AS NEXT_BUS FROM PowerTransformer WHERE Terminals.CimCppSize=2",
          "dgQuery": "SELECT EquipmentContainer(Substation).name as Substation,Terminals[sequenceNumber=2].mRID AS ID,name,Terminals[sequenceNumber=2].TopologicalNode.mRID AS PARENT,Terminals[sequenceNumber=2].p AS p,Terminals[sequenceNumber=2].q AS q,Terminals[sequenceNumber=1].mRID AS NEXT_TERMINAL,Terminals[sequenceNumber=1].TopologicalNode.mRID AS NEXT_BUS,Terminals[sequenceNumber=2].ConductingEquipment.mRID AS eqMRID FROM PowerTransformer WHERE Terminals.CimCppSize=2 AND Terminals[sequenceNumber=2].TopologicalNode.mRID={0}",
          "color": "red",
          "layout": {
            "Substation"                        : {"title": "Substation" },
            "name"                        : {"title": "Name" },
            "r"                           : {"title": "Series Resistance" },
            "nomV"                        : {"title": "Nominal Voltage" },
            "p"                           : {"title": "p" }
          },
          "text": "|PTend2of2:%layout%",
		  "dgNodeLayout":
			[{"field": "p", "decimalDigits": "2", "signToArrow": "true", "unit": "MW"},
			 {"field": "q", "decimalDigits": "2", "signToArrow": "true", "unit": "MVAR"}],
          "navigateTo": {
             "display": "Tabular",
             "className": "Transformer2Term",
             "destinationID": "%eqMRID%"
          },
          "title": "name",
          "type": "PowerTransformer"
        },
        {
          "id": "ID",
          "parent": "PARENT",
          "next": "NEXT_TERMINAL",
		  "next-parent": "NEXT_BUS",
		  "icon": {"src": "three_winding.svg", "atEnd": false},
          "query": "SELECT EquipmentContainer(Substation).name as Substation,Terminals[sequenceNumber=2].mRID AS ID,name,Terminals[sequenceNumber=2].TopologicalNode.mRID AS PARENT,Terminals[sequenceNumber=2].p AS p,Terminals[sequenceNumber=2].q AS q,Terminals[sequenceNumber=3].mRID AS NEXT_TERMINAL,Terminals[sequenceNumber=3].TopologicalNode.mRID AS NEXT_BUS FROM PowerTransformer WHERE Terminals.CimCppSize=3",
          "dgQuery": "SELECT EquipmentContainer(Substation).name as Substation,Terminals[sequenceNumber=2].mRID AS ID,name,Terminals[sequenceNumber=2].TopologicalNode.mRID AS PARENT,Terminals[sequenceNumber=2].p AS p,Terminals[sequenceNumber=2].q AS q,Terminals[sequenceNumber=3].mRID AS NEXT_TERMINAL,Terminals[sequenceNumber=3].TopologicalNode.mRID AS NEXT_BUS,Terminals[sequenceNumber=2].ConductingEquipment.mRID AS eqMRID FROM PowerTransformer WHERE Terminals.CimCppSize=3 AND Terminals[sequenceNumber=2].TopologicalNode.mRID={0}",
          "color": "red",
          "layout": {
            "Substation"                        : {"title": "Substation" },
            "name"                        : {"title": "Name" },
            "r"                           : {"title": "Series Resistance" },
            "nomV"                        : {"title": "Nominal Voltage" },
            "p"                           : {"title": "p" }
          },
          "text": "|PTend2of3:%layout%",
		  "dgNodeLayout":
			[{"field": "p", "decimalDigits": "2", "signToArrow": "true", "unit": "MW"},
			 {"field": "q", "decimalDigits": "2", "signToArrow": "true", "unit": "MVAR"}],
          "navigateTo": {
             "display": "Tabular",
             "className": "%eqType%",
             "destinationID": "%eqMRID%"
          },
          "navigateTo": {
             "display": "Tabular",
             "className": "Transformer3Term",
             "destinationID": "%eqMRID%"
          },
          "title": "name",
          "type": "PowerTransformer"
        },
        {
          "id": "ID",
          "parent": "PARENT",
          "next": "NEXT_TERMINAL",
		  "next-parent": "NEXT_BUS",
		  "icon": {"src": "three_winding.svg", "atEnd": false},
          "query": "SELECT EquipmentContainer(Substation).name as Substation,Terminals[sequenceNumber=3].mRID AS ID,name,Terminals[sequenceNumber=3].TopologicalNode.mRID AS PARENT,Terminals[sequenceNumber=3].p AS p,Terminals[sequenceNumber=3].q AS q,Terminals[sequenceNumber=1].mRID AS NEXT_TERMINAL,Terminals[sequenceNumber=1].TopologicalNode.mRID AS NEXT_BUS FROM PowerTransformer WHERE Terminals.CimCppSize=3",
          "dgQuery": "SELECT EquipmentContainer(Substation).name as Substation,Terminals[sequenceNumber=3].mRID AS ID,name,Terminals[sequenceNumber=3].TopologicalNode.mRID AS PARENT,Terminals[sequenceNumber=3].p AS p,Terminals[sequenceNumber=3].q AS q,Terminals[sequenceNumber=1].mRID AS NEXT_TERMINAL,Terminals[sequenceNumber=1].TopologicalNode.mRID AS NEXT_BUS,Terminals[sequenceNumber=3].ConductingEquipment.mRID AS eqMRID FROM PowerTransformer WHERE Terminals.CimCppSize=3 AND Terminals[sequenceNumber=3].TopologicalNode.mRID={0}",
          "color": "red",
          "layout": {
            "Substation"                        : {"title": "Substation" },
            "name"                        : {"title": "Name" },
            "r"                           : {"title": "Series Resistance" },
            "nomV"                        : {"title": "Nominal Voltage" },
            "p"                           : {"title": "p" }
          },
          "text": "|PTend3of3:%layout%",
		  "dgNodeLayout":
			[{"field": "p", "decimalDigits": "2", "signToArrow": "true", "unit": "MW"},
			 {"field": "q", "decimalDigits": "2", "signToArrow": "true", "unit": "MVAR"}],
          "navigateTo": {
             "display": "Tabular",
             "className": "Transformer3Term",
             "destinationID": "%eqMRID%"
          },
          "title": "name",
          "type": "PowerTransformer"
        },
        {
          "id": "ID",
          "parent": "PARENT",
		  "icon": {"src": "synchmach.png", "atEnd": true},
          "query": "SELECT Terminals[CimCppAny=\"\"].mRID AS ID,Terminals[CimCppAny=\"\"].p AS TermP,p,q,name,EquipmentContainer.name AS contName,Terminals[CimCppAny=\"\"].TopologicalNode.mRID AS PARENT FROM SynchronousMachine",
          "dgQuery": "SELECT Terminals[CimCppAny=\"\"].mRID AS ID,Terminals[CimCppAny=\"\"].p AS TermP,p,q,name,EquipmentContainer.name AS contName,Terminals[CimCppAny=\"\"].TopologicalNode.mRID AS PARENT FROM SynchronousMachine WHERE Terminals[CimCppAny=\"\"].TopologicalNode.mRID={0}",
          "color": "magenta",
          "layout": {
			"contName" 					: {"title": "Container"},
            "name"                        : {"title": "Name" },
            "p"                        : {"title": "p" },
            "ID"                        : {"title": "ID" }
          },
          "text": "SynchMach:%layout%",
          "dgNodeLayout":
			[{"field": "p", "decimalDigits": "2", "signToArrow": "true", "unit": "MW"},
			 {"field": "q", "decimalDigits": "2", "signToArrow": "true", "unit": "MVAR"}],
          "title": "name",
		  "type": "SynchronousMachine"
        },
        {
          "id": "ID",
          "parent": "PARENT",
          "query": "SELECT Terminals[CimCppAny=\"\"].mRID AS ID,Terminals[CimCppAny=\"\"].p AS TermP,p,q,name,EquipmentContainer.name AS contName,Terminals[CimCppAny=\"\"].TopologicalNode.mRID AS PARENT FROM EnergyConsumer",
          "dgQuery": "SELECT Terminals[CimCppAny=\"\"].mRID AS ID,Terminals[CimCppAny=\"\"].p AS TermP,p,q,name,EquipmentContainer.name AS contName,Terminals[CimCppAny=\"\"].TopologicalNode.mRID AS PARENT FROM EnergyConsumer WHERE Terminals[CimCppAny=\"\"].TopologicalNode.mRID={0}",
          "color": "magenta",
          "layout": {
			"contName" 					: {"title": "Container"},
            "name"                        : {"title": "Name" },
            "p"                        : {"title": "p" },
            "ID"                        : {"title": "ID" }
          },
          "text": "EConsumer:%layout%",
		  "dgNodeLayout":
			[{"field": "p", "decimalDigits": "2", "signToArrow": "true", "unit": "MW"},
			 {"field": "q", "decimalDigits": "2", "signToArrow": "true", "unit": "MVAR"}],
          "title": "name",
		  "icon":  {"src": "energy_consumer.svg", "atEnd": true},
          "type": "EnergyConsumer"
        },
        {
          "id": "ID",
          "parent": "PARENT",
          "query": "SELECT Terminals[CimCppAny=\"\"].mRID AS ID,Terminals[CimCppAny=\"\"].p AS TermP,p,name,EquipmentContainer.name AS contName,Terminals[CimCppAny=\"\"].TopologicalNode.mRID AS PARENT FROM EnergySource",
          "dgQuery": "SELECT Terminals[CimCppAny=\"\"].mRID AS ID,Terminals[CimCppAny=\"\"].p AS TermP,p,name,EquipmentContainer.name AS contName,Terminals[CimCppAny=\"\"].TopologicalNode.mRID AS PARENT FROM EnergySource WHERE Terminals[CimCppAny=\"\"].TopologicalNode.mRID={0}",
          "color": "magenta",
          "layout": {
			"contName" 					: {"title": "Container"},
            "name"                        : {"title": "Name" },
            "p"                        : {"title": "p" },
            "ID"                        : {"title": "ID" }
          },
          "text": "EnergySource:%layout%",
		  "dgNodeLayout":
			[{"field": "p", "decimalDigits": "2", "signToArrow": "true", "unit": "MW"},
			 {"field": "q", "decimalDigits": "2", "signToArrow": "true", "unit": "MVAR"}],
          "title": "name",
          "type": "EnergySource"
        },
        {
          "id": "ID",
          "parent": "PARENT",
		  "icon": {"src": "shunt.svg", "atEnd": true},
          "query": "SELECT Terminals[CimCppAny=\"\"].mRID AS ID,Terminals[CimCppAny=\"\"].q AS TermQ,q,name,EquipmentContainer.name AS contName,Terminals[CimCppAny=\"\"].TopologicalNode.mRID AS PARENT FROM ShuntCompensator",
          "dgQuery": "SELECT Terminals[CimCppAny=\"\"].mRID AS ID,Terminals[CimCppAny=\"\"].q AS TermQ,q,name,EquipmentContainer.name AS contName,Terminals[CimCppAny=\"\"].TopologicalNode.mRID AS PARENT FROM ShuntCompensator WHERE Terminals[CimCppAny=\"\"].TopologicalNode.mRID={0}",
          "color": "magenta",
          "layout": {
			"contName" 					: {"title": "Container"},
            "name"                        : {"title": "Name" },
            "q"                        : {"title": "q" },
            "ID"                        : {"title": "ID" }
          },
          "text": "ShuntComp:%layout%",
		  "dgNodeLayout":
			[{"field": "TermQ", "decimalDigits": "2", "signToArrow": "true", "unit": "MVAR"}],
          "title": "name",
          "type": "ShuntCompensator"
        },
		{
          "id": "ID",
          "parent": "PARENT",
          "query": "SELECT Terminals[CimCppAny=\"\"].mRID AS ID,Terminals[CimCppAny=\"\"].q AS TermQ,q,name,EquipmentContainer.name AS contName,Terminals[CimCppAny=\"\"].TopologicalNode.mRID AS PARENT FROM StaticVarCompensator",
          "dgQuery": "SELECT Terminals[CimCppAny=\"\"].mRID AS ID,Terminals[CimCppAny=\"\"].q AS TermQ,q,name,EquipmentContainer.name AS contName,Terminals[CimCppAny=\"\"].TopologicalNode.mRID AS PARENT FROM StaticVarCompensator WHERE Terminals[CimCppAny=\"\"].TopologicalNode.mRID={0}",
          "color": "magenta",
          "layout": {
			"contName" 					: {"title": "Container"},
            "name"                        : {"title": "Name" },
            "q"                        : {"title": "q" },
            "ID"                        : {"title": "ID" }
          },
          "text": "SVS:%layout%",
		  "dgNodeLayout":
			[{"field": "TermQ", "decimalDigits": "2", "signToArrow": "true", "unit": "MVAR"}],
          "title": "name",
		      "icon": {"src": "staticvar_compensator_1.svg", "atEnd": true},
          "type": "StaticVarCompensator"
        },
		{
          "id": "ID",
          "parent": "PARENT",
          "query": "SELECT Terminals[CimCppAny=\"\"].mRID AS ID,Terminals[CimCppAny=\"\"].q AS TermQ,q,name,EquipmentContainer.name AS contName,Terminals[CimCppAny=\"\"].TopologicalNode.mRID AS PARENT FROM EquivalentShunt",
          "dgQuery": "SELECT Terminals[CimCppAny=\"\"].mRID AS ID,Terminals[CimCppAny=\"\"].q AS TermQ,q,name,EquipmentContainer.name AS contName,Terminals[CimCppAny=\"\"].TopologicalNode.mRID AS PARENT FROM EquivalentShunt WHERE Terminals[CimCppAny=\"\"].TopologicalNode.mRID={0}",
          "color": "magenta",
          "layout": {
			"contName" 					: {"title": "Container"},
            "name"                        : {"title": "Name" },
            "p"                        : {"title": "p" },
            "ID"                        : {"title": "ID" }
          },
          "text": "EquivShunt:%layout%",
		  "dgNodeLayout":
			[{"field": "TermQ", "decimalDigits": "2", "signToArrow": "true", "unit": "MVAR"}],
          "title": "name",
          "type": "EquivalentShunt"
        },
        {
          "id": "ID",
          "parent": "PARENT",
          "query": "SELECT Terminals[CimCppAny=\"\"].p AS TermP,Terminals[CimCppAny=\"\"].mRID AS ID,p,name,EquipmentContainer.name AS contName,Terminals[CimCppAny=\"\"].TopologicalNode.mRID AS PARENT FROM EquivalentInjection",
          "dgQuery": "SELECT Terminals[CimCppAny=\"\"].p AS TermP,Terminals[CimCppAny=\"\"].mRID AS ID,p,name,EquipmentContainer.name AS contName,Terminals[CimCppAny=\"\"].TopologicalNode.mRID AS PARENT FROM EquivalentInjection WHERE Terminals[CimCppAny=\"\"].TopologicalNode.mRID={0}",
          "color": "magenta",
          "layout": {
			"contName" 					: {"title": "Container"},
            "name"                        : {"title": "Name" },
            "p"                        : {"title": "p" },
            "ID"                        : {"title": "ID" }
          },
          "text": "EquivInj:%layout%",
		  "dgNodeLayout":
			[{"field": "TermP", "decimalDigits": "2", "signToArrow": "true", "unit": "MW"},
			 {"field": "TermQ", "decimalDigits": "2", "signToArrow": "true", "unit": "MVAR"}],
          "title": "name",
          "type": "EquivalentInjection"
        },
        {
          "id": "ID",
          "parent": "PARENT",
          "query": "SELECT Terminals[CimCppAny=\"\"].mRID AS ID,Terminals[CimCppAny=\"\"].p AS TermP,Terminals[CimCppAny=\"\"].q AS TermQ,p,name,EquipmentContainer.name AS contName,Terminals[CimCppAny=\"\"].TopologicalNode.mRID AS PARENT FROM CsConverter",
          "dgQuery": "SELECT Terminals[CimCppAny=\"\"].mRID AS ID,Terminals[CimCppAny=\"\"].p AS TermP,Terminals[CimCppAny=\"\"].q AS TermQ,p,name,EquipmentContainer.name AS contName,Terminals[CimCppAny=\"\"].TopologicalNode.mRID AS PARENT FROM CsConverter WHERE Terminals[CimCppAny=\"\"].TopologicalNode.mRID={0}",
          "color": "magenta",
          "layout": {
			"contName" 					: {"title": "Container"},
            "name"                        : {"title": "Name" },
            "p"                        : {"title": "p" },
            "ID"                        : {"title": "ID" }
          },
          "text": "CsConverter:%layout%",
          "dgNodeLayout":
			[{"field": "TermP", "decimalDigits": "2", "signToArrow": "true", "unit": "MW"},
			 {"field": "TermQ", "decimalDigits": "2", "signToArrow": "true", "unit": "MVAR"}],
          "title": "name",
		      "icon":  {"src": "dc_converter.svg", "atEnd": true},
          "type": "CsConverter"
        },
		{
          "id": "ID",
          "parent": "PARENT",
          "query": "SELECT Terminals[CimCppAny=\"\"].mRID AS ID,Terminals[CimCppAny=\"\"].p AS TermP,Terminals[CimCppAny=\"\"].q AS TermQ,p,name,EquipmentContainer.name AS contName,Terminals[CimCppAny=\"\"].TopologicalNode.mRID AS PARENT FROM VsConverter",
          "dgQuery": "SELECT Terminals[CimCppAny=\"\"].mRID AS ID,Terminals[CimCppAny=\"\"].p AS TermP,Terminals[CimCppAny=\"\"].q AS TermQ,p,name,EquipmentContainer.name AS contName,Terminals[CimCppAny=\"\"].TopologicalNode.mRID AS PARENT FROM VsConverter WHERE Terminals[CimCppAny=\"\"].TopologicalNode.mRID={0}",
          "color": "magenta",
          "layout": {
			    "contName" 					: {"title": "Container"},
            "name"                        : {"title": "Name" },
            "p"                        : {"title": "p" },
            "ID"                        : {"title": "ID" }
          },
          "text": "VsConverter:%layout%",
          "dgNodeLayout":
			      [{"field": "TermP", "decimalDigits": "2", "signToArrow": "true", "unit": "MW"},
			       {"field": "TermQ", "decimalDigits": "2", "signToArrow": "true", "unit": "MVAR"}],
		      "icon":  {"src": "vs_converter.svg", "atEnd": true},
          "title": "name",
          "type": "VsConverter"
        },
        {
          "id": "ID",
          "parent": "PARENT",
          "query": "SELECT name,EquipmentContainer.name AS contName,Terminals[CimCppAny=\"\"].mRID AS ID,Terminals[CimCppAny=\"\"].TopologicalNode.mRID AS PARENT FROM BusbarSection",
          "dgQuery": "SELECT name,EquipmentContainer.name AS contName,Terminals[CimCppAny=\"\"].mRID AS ID,Terminals[CimCppAny=\"\"].TopologicalNode.mRID AS PARENT FROM BusbarSection WHERE Terminals[CimCppAny=\"\"].TopologicalNode.mRID={0}",
          "color": "magenta",
          "layout": {
			    "contName" 					: {"title": "Container"},
            "name"                        : {"title": "Name" },
            "ID"                        : {"title": "ID" }
          },
          "text": "BusBarSection:%layout%",
          "title": "name",
          "icon":  {"src": "busbar.png", "atEnd": true},
          "violatedIcon": {"src": "busbar_v.png", "atEnd": true},
          "type": "BusbarSection"
        },
        {
          "id": "ID",
          "parent": "PARENT",
          "query": "SELECT name,EquipmentContainer.name AS contName,Terminals[CimCppAny=\"\"].mRID AS ID,Terminals[CimCppAny=\"\"].TopologicalNode.mRID AS PARENT FROM Junction",
          "dgQuery": "SELECT name,EquipmentContainer.name AS contName,Terminals[CimCppAny=\"\"].mRID AS ID,Terminals[CimCppAny=\"\"].TopologicalNode.mRID AS PARENT FROM Junction WHERE Terminals[CimCppAny=\"\"].TopologicalNode.mRID={0}",
          "color": "magenta",
          "layout": {
			"contName" 					: {"title": "Container"},
            "name"                        : {"title": "Name" },
            "ID"                        : {"title": "ID" }
          },
          "text": "Junction:%layout%",
          "title": "name",
          "type": "Junction"
		},
        {
          "id": "ID",
          "parent": "PARENT",
          "next": "NEXT_TERMINAL",
		  "next-parent": "NEXT_BUS",
          "query": "SELECT Terminals[sequenceNumber=1].mRID AS ID,name,Terminals[sequenceNumber=1].TopologicalNode.mRID AS PARENT,Terminals[sequenceNumber=2].mRID AS NEXT_TERMINAL,Terminals[sequenceNumber=2].TopologicalNode.mRID AS NEXT_BUS FROM Switch WHERE retained=true",
          "dgQuery": "SELECT Terminals[sequenceNumber=1].mRID AS ID,name,Terminals[sequenceNumber=1].TopologicalNode.mRID AS PARENT,Terminals[sequenceNumber=2].mRID AS NEXT_TERMINAL,Terminals[sequenceNumber=2].TopologicalNode.mRID AS NEXT_BUS FROM Switch WHERE retained=true AND Terminals[sequenceNumber=1].TopologicalNode.mRID={0}",
          "color": "orange",
          "layout": {
            "name"                        : {"title": "Name" }
          },
          "text": "|SWend1:%layout%",
          "title": "name",
          "type": "Switch"
        },
        {
          "id": "ID",
          "parent": "PARENT",
          "next": "NEXT_TERMINAL",
		  "next-parent": "NEXT_BUS",
          "query": "SELECT Terminals[sequenceNumber=2].mRID AS ID,name,Terminals[sequenceNumber=2].TopologicalNode.mRID AS PARENT,Terminals[sequenceNumber=1].mRID AS NEXT_TERMINAL,Terminals[sequenceNumber=1].TopologicalNode.mRID AS NEXT_BUS FROM Switch WHERE retained=true",
          "dgQuery": "SELECT Terminals[sequenceNumber=2].mRID AS ID,name,Terminals[sequenceNumber=2].TopologicalNode.mRID AS PARENT,Terminals[sequenceNumber=1].mRID AS NEXT_TERMINAL,Terminals[sequenceNumber=1].TopologicalNode.mRID AS NEXT_BUS FROM Switch WHERE retained=true AND Terminals[sequenceNumber=2].TopologicalNode.mRID={0}",
          "color": "orange",
          "layout": {
            "name"                        : {"title": "Name" }
          },
          "text": "|SWend2:%layout%",
          "title": "name",
          "icon":  {"src": "generic_switch.svg", "atEnd": false},
          "type": "Switch"
        }
      ]
    }
  ]
}